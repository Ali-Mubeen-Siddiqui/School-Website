{% extends "base.html" %}

{% load static %}
{%block title%}Contact-Us{%endblock%}

{% block extra_head %}

<link rel="stylesheet" href="{% static 'pages_static/style1.css' %}">
<link rel="stylesheet" href="{% static 'pages_static/style3.css' %}">

{% endblock %}

{%block content%}
  <!-- Login Box -->
  <div class="contact-container">
    <h2>Contact Us</h2>
    {% if messages %}
    <div class="contact-messages" role="region" aria-live="polite">
      {% for message in messages %}
      <div class="contact-alert {% if message.tags %}{{ message.tags }}{% endif %} fade show" data-timeout="5000">
        <span class="contact-alert-icon" aria-hidden="true"></span>
        <div class="contact-alert-content">{{ message }}</div>
        <button type="button" class="contact-alert-close" aria-label="Close">&times;</button>
      </div>
      {% endfor %}
    </div>
    {% endif %}
    <form action="{% url 'contact_view' %}" method="post">
      {% csrf_token %}
      
      <input type="text" placeholder="Your Name" name="name" required maxlength="100" />
      <input type="email" placeholder="Your Email" name="email" required maxlength="100" />
      <input type="text" placeholder="Subject" name="subject" required maxlength="100" />
      <textarea placeholder="Your Message" name="message" rows="5" required maxlength="500"></textarea>
     
      <button type="submit">Send Message</button>
    </form>
    <p class="note">We will get back to you as soon as possible!</p>
  </div>

  <!-- Footer -->
  <footer>
    Â© 2025 Christ Church College | All rights reserved!
  </footer>
{% endblock %}

{% block extra_script %}
<script>
  (function() {
    const alerts = document.querySelectorAll('.contact-alert');
    alerts.forEach(function(alert) {
      const closeBtn = alert.querySelector('.contact-alert-close');
      function dismiss() {
        alert.classList.remove('show');
        alert.classList.add('hiding');
        setTimeout(function(){ alert.remove(); }, 250);
      }
      if (closeBtn) {
        closeBtn.addEventListener('click', dismiss);
      }
      const timeout = parseInt(alert.getAttribute('data-timeout') || '0', 10);
      if (timeout > 0) {
        setTimeout(dismiss, timeout);
      }
    });
  })();
  </script>
{% endblock %}